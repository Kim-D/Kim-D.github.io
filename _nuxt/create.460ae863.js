import{_ as x}from"./Input.aba85dfb.js";import{_ as y}from"./Button.a6d1e8d0.js";import{f as w,r as c,B as v,g as B,y as S,o as C,j as R,w as n,b as s,d as h,k as b,l as V}from"./entry.c4ebd43d.js";import{u as $}from"./index.f27507dc.js";import{_ as M}from"./Stack.vue.bd4d8877.js";import{_ as N}from"./KTransfer.vue.3ab8cdff.js";import{_ as L}from"./Flex.vue.8a6b864f.js";import{T as U}from"./Text.bed8161d.js";import{B as q}from"./Box.03872979.js";import{a as j,b as E}from"./task-team.api.9af4120b.js";import"./index.d7501e1d.js";import"./nuxt-link.3df1dd84.js";import"./Icon.85766b0e.js";import"./index.df58e121.js";import"./List.cebf833c.js";import"./ScrollArea.vue.97974c9d.js";import"./KButton.55ae4892.js";import"./api.184bdff1.js";const se=w({__name:"create",setup(G){$("작업조 등록");const l=c(""),i=c([]),f=c(null),u=c([]),g=v(),p=B.useLoading({color:"#0000ff",loader:"bars",canCancel:!1}),_=S();async function k(t){let a="";const o=p.show();try{const e=await j(t)??[];u.value=e.data}catch(e){a=e.message}finally{o.hide(),a.length>0&&_.add({type:"error",text:a})}}function T(){var m;let t="";const a=p.show(),o=(m=f.value)==null?void 0:m.getSelectedList();i.value=o??[];const e={};e.teamNm=l.value,e.mbrSeqs=i.value.map(r=>r.mbrSeq),E(e).then(r=>{var d;((d=r.data)==null?void 0:d.message)==="success"&&g.back()}).catch(r=>{t=r.message}).finally(()=>{a.hide(),t.length>0&&_.add({type:"error",text:t})})}return(t,a)=>{const o=x,e=y;return C(),R(M,null,{default:n(()=>[s(q,null,{default:n(()=>[s(L,{align:"baseline"},{default:n(()=>[s(U,{class:"w-20"},{default:n(()=>[h(" 작업조명 ")]),_:1}),s(o,{modelValue:b(l),"onUpdate:modelValue":a[0]||(a[0]=m=>V(l)?l.value=m:null),class:"w-full","input-class":"h-12",placeholder:"작업조명을 입력해주세요."},null,8,["modelValue"])]),_:1})]),_:1}),s(N,{ref_key:"transferRef",ref:f,items:b(u),onSearch:k},null,8,["items"]),s(e,{color:"primary",class:"w-full",onClick:T},{default:n(()=>[h(" 등록 ")]),_:1})]),_:1})}}});export{se as default};
