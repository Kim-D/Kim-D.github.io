import{_ as O}from"./Input.aba85dfb.js";import A from"./Icon.85766b0e.js";import{_ as H}from"./Button.a6d1e8d0.js";import{f as J,C as P,r as S,h as B,D as Q,o,c as g,b as a,w as l,k as r,l as W,E as X,d as c,j as f,q as w,F as y,m as I,t as i,G as K}from"./entry.c4ebd43d.js";import{a as $,L as _}from"./List.cebf833c.js";import{_ as h}from"./Flex.vue.8a6b864f.js";import{T as u}from"./Text.bed8161d.js";import{B as V}from"./Box.03872979.js";import{_ as Y}from"./ScrollArea.vue.97974c9d.js";import{_ as p}from"./Stack.vue.bd4d8877.js";import{K as Z}from"./KButton.55ae4892.js";import{t as ee}from"./index.d7501e1d.js";const ie=J({__name:"KTransfer",props:{items:{}},emits:["search"],setup(N,{expose:F,emit:T}){const E=N,U=T,{items:x}=P(E),m=S(""),d=S([]),t=S([]),j=B(()=>d.value.some(e=>e.checked===!0)),D=B(()=>t.value.some(e=>e.checked===!0));F({getSelectedList(){return t.value.map(e=>{const{checked:n,...k}=e;return k})},setSelectedList(e){t.value=e,t.value=t.value.map(n=>({...n,checked:!1}))}}),Q(x,()=>{C()});async function q(){d.value=[],U("search",m.value)}function R(e){if(t.value.some(n=>n.mbrSeq===e.mbrSeq))return null;e.checked=!e.checked}function z(e){e.checked=!e.checked}function G(){d.value.filter(e=>e.checked===!0).forEach(e=>{t.value.some(n=>n.mbrSeq===e.mbrSeq)||t.value.push({...e,checked:!1}),e.checked=!1}),t.value.sort((e,n)=>e.mbrSeq-n.mbrSeq)}function M(){t.value=t.value.filter(e=>e.checked===!1)}function C(){d.value=x.value.map(e=>({...e,checked:!1}))}return ee(()=>{C()}),(e,n)=>{const k=O,b=A,L=H;return o(),g(y,null,[a(V,null,{default:l(()=>[a(p,null,{default:l(()=>[a(h,{align:"baseline"},{default:l(()=>[a(k,{modelValue:r(m),"onUpdate:modelValue":n[0]||(n[0]=s=>W(m)?m.value=s:null),class:"w-full","input-class":"h-12",placeholder:"작업자 이름을 입력해주세요.",onKeydown:X(q,["enter"])},null,8,["modelValue","onKeydown"]),a(Z,{width:"normal",onClick:q},{default:l(()=>[c(" 검색 ")]),_:1})]),_:1}),a(Y,{class:"h-64"},{default:l(()=>[a($,null,{default:l(()=>[a(p,null,{default:l(()=>[r(d).length===0?(o(),f(_,{key:0,class:"w-full",hover:!1},{default:l(()=>[a(u,{align:"center",class:"text-gray-400"},{default:l(()=>[c(" 검색된 결과가 없습니다. ")]),_:1})]),_:1})):w("",!0),(o(!0),g(y,null,I(r(d),s=>(o(),f(_,{key:s.mbrSeq,class:K(["w-full",s.checked?"bg-base-300 text-primary":""]),hover:!1,onClick:v=>R(s)},{default:l(()=>[a(h,{align:"baseline"},{default:l(()=>[a(u,null,{default:l(()=>[c(i(s.mbrSeq),1)]),_:2},1024),a(u,null,{default:l(()=>[c(i(s.userNm),1)]),_:2},1024),r(t).some(v=>v.mbrSeq===s.mbrSeq)?(o(),f(b,{key:0,name:"ion:checkmark"})):w("",!0)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(h,{justify:"center"},{default:l(()=>[a(L,{color:"sky",class:"w-16",variant:"ghost",disabled:!r(j),onClick:G},{default:l(()=>[a(b,{name:"ion:arrow-down-b"})]),_:1},8,["disabled"]),a(L,{color:"rose",class:"w-16",variant:"ghost",disabled:!r(D),onClick:M},{default:l(()=>[a(b,{name:"ion:arrow-up-b"})]),_:1},8,["disabled"])]),_:1}),a(V,null,{default:l(()=>[a(p,null,{default:l(()=>[a(u,{align:"center",class:"bg-primary/10 w-full h-full"},{default:l(()=>[c(" 조원 ")]),_:1}),a($,null,{default:l(()=>[a(p,null,{default:l(()=>[r(t).length===0?(o(),f(_,{key:0,class:"w-full",hover:!1},{default:l(()=>[a(u,{align:"center",class:"text-gray-400"},{default:l(()=>[c(" 조원을 추가해주세요. ")]),_:1})]),_:1})):w("",!0),(o(!0),g(y,null,I(r(t),s=>(o(),f(_,{key:s.mbrSeq,class:K(["w-full",s.checked?"bg-base-300 text-primary":""]),hover:!1,onClick:v=>z(s)},{default:l(()=>[a(h,null,{default:l(()=>[a(u,null,{default:l(()=>[c(i(s.mbrSeq),1)]),_:2},1024),a(u,null,{default:l(()=>[c(i(s.userNm),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})],64)}}});export{ie as _};
