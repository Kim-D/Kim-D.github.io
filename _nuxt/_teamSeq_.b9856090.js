import{_ as x}from"./Input.ea2a240b.js";import{_ as v}from"./Button.ed1ba773.js";import{f as w,r as c,B as S,g as M,y as N,o as B,j as q,w as m,b as o,d as y,k as b,l as C,n as R}from"./entry.bf64b599.js";import{u as V}from"./index.0d8a044b.js";import{u as $}from"./index.eebf9e91.js";import{_ as L}from"./Stack.vue.f2e87cfc.js";import{_ as I}from"./KTransfer.vue.729f6d35.js";import{_ as U}from"./Flex.vue.05e8867f.js";import{T as G}from"./Text.521f1a84.js";import{B as P}from"./Box.028b2dfc.js";import{a as j,c as E,d as O}from"./task-team.api.251ce45e.js";import{t as z}from"./index.6949dd38.js";import"./nuxt-link.0282fad6.js";import"./Icon.54269085.js";import"./index.df58e121.js";import"./List.b3513e41.js";import"./ScrollArea.vue.03ab21fc.js";import"./KButton.1dc6351c.js";import"./api.882d370b.js";const ie=w({__name:"[teamSeq]",setup(A){V("작업조 상세");const d=$("teamSeq"),r=c(""),l=c([]),u=c(null),_=c([]),g=S(),f=M.useLoading({color:"#0000ff",loader:"bars",canCancel:!1}),p=N();async function k(a){let t="";const s=f.show();try{const e=await j(a)??[];_.value=e.data}catch(e){t=e.message}finally{s.hide(),t.length>0&&p.add({type:"error",text:t})}}function T(){var i;let a="";const t=f.show(),s=(i=u.value)==null?void 0:i.getSelectedList();l.value=s??[];const e={};e.teamNm=r.value,e.mbrSeqs=l.value.map(n=>n.mbrSeq),E(Number.parseInt(d.value),e).then(n=>{var h;((h=n.data)==null?void 0:h.message)==="success"&&g.back()}).catch(n=>{a=n.message}).finally(()=>{t.hide(),a.length>0&&p.add({type:"error",text:a})})}return z(async()=>{var s;await R();let a="";const t=f.show();try{const e=await O(Number.parseInt(d.value));r.value=e.data.teamNm,l.value=e.data.members,(s=u.value)==null||s.setSelectedList(l.value)}catch(e){a=e.message}finally{t.hide(),a.length>0&&p.add({type:"error",text:a})}}),(a,t)=>{const s=x,e=v;return B(),q(L,null,{default:m(()=>[o(P,null,{default:m(()=>[o(U,{align:"baseline"},{default:m(()=>[o(G,{class:"w-20"},{default:m(()=>[y(" 작업조명 ")]),_:1}),o(s,{modelValue:b(r),"onUpdate:modelValue":t[0]||(t[0]=i=>C(r)?r.value=i:null),class:"w-full","input-class":"h-12",placeholder:"작업조명을 입력해주세요."},null,8,["modelValue"])]),_:1})]),_:1}),o(I,{ref_key:"transferRef",ref:u,items:b(_),onSearch:k},null,8,["items"]),o(e,{color:"primary",class:"w-full",onClick:T},{default:m(()=>[y(" 수정 ")]),_:1})]),_:1})}}});export{ie as default};
